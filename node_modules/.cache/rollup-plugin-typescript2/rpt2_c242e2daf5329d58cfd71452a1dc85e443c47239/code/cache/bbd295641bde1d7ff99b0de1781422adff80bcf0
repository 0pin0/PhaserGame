{"code":"import { __extends } from \"tslib\";\r\nimport \"phaser\";\r\nvar VersionText = '2023/3/3 07:29';\r\nvar LSKey_GameId = 'LSKey_GameID';\r\nvar Demo = /** @class */ (function (_super) {\r\n    __extends(Demo, _super);\r\n    //#region base\r\n    function Demo() {\r\n        var _this = _super.call(this, \"Demo\") || this;\r\n        _this.btnImageKey = 'btn';\r\n        _this.gameTitlePosY = 30;\r\n        _this.maxGameId = 2;\r\n        _this.gameId = 0;\r\n        // 轉換gameId\r\n        var gameIdText = window.localStorage.getItem(LSKey_GameId);\r\n        _this.gameId = 1;\r\n        if (gameIdText) {\r\n            _this.gameId = +gameIdText;\r\n        }\r\n        console.log(\"gameId=\" + _this.gameId);\r\n        return _this;\r\n    }\r\n    Demo.prototype.preload = function () {\r\n        console.log(\"preload\");\r\n        // 切換game\r\n        switch (this.gameId) {\r\n            case 1:\r\n                this.preload_Game1();\r\n                break;\r\n            case 2:\r\n                this.preload_Game2();\r\n                break;\r\n            default:\r\n                console.error(\"undefined, gameId=\" + this.gameId);\r\n                break;\r\n        }\r\n        this.preload_Game0();\r\n    };\r\n    Demo.prototype.create = function () {\r\n        console.log(\"create\");\r\n        // 切換game\r\n        console.log(\"gameId=\" + this.gameId);\r\n        switch (this.gameId) {\r\n            case 1:\r\n                this.create_Game1();\r\n                break;\r\n            case 2:\r\n                this.create_Game2();\r\n                break;\r\n            default:\r\n                console.error(\"undefined, gameId=\" + this.gameId);\r\n                break;\r\n        }\r\n        this.create_Game0();\r\n    };\r\n    Demo.prototype.preload_Game0 = function () {\r\n        // 目錄\r\n        try {\r\n            this.load.image(this.btnImageKey, \"assets/button1_s.png\");\r\n        }\r\n        catch (e) {\r\n            console.error(\"msg=\" + e);\r\n        }\r\n    };\r\n    Demo.prototype.create_Game0 = function () {\r\n        var _this = this;\r\n        // 目錄\r\n        this.add.text(100, 50, \"\\u9EDE\\u64CA\\u5207\\u63DB\");\r\n        var _loop_1 = function (i) {\r\n            var btn = this_1.add.image(200, 100, this_1.btnImageKey);\r\n            btn.setScale(0.5);\r\n            btn.setInteractive();\r\n            btn.on('pointerdown', function () { _this.onClickBtn(i); });\r\n            var text = i === 0 ? \"\\u9078\\u55AE\" : \"\\u904A\\u6232\" + i;\r\n            var btnText = this_1.add.text(btn.x, btn.y, text);\r\n            btnText.setOrigin(0.5, 0.5);\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < this.maxGameId; i++) {\r\n            _loop_1(i);\r\n        }\r\n        this.add.text(0, 0, \"ver \" + VersionText + \"\\n\");\r\n    };\r\n    //#endregion base\r\n    //#region btn\r\n    Demo.prototype.onClickBtn = function (index) {\r\n        console.log(\"onClickBtn\" + index);\r\n        window.localStorage.setItem(LSKey_GameId, \"\" + index);\r\n        location.reload();\r\n    };\r\n    //#endregion btn\r\n    //#region game1\r\n    Demo.prototype.preload_Game1 = function () {\r\n        this.load.image(\"logo\", \"assets/phaser3-logo.png\");\r\n        this.load.image(\"libs\", \"assets/libs.png\");\r\n        this.load.glsl(\"bundle\", \"assets/plasma-bundle.glsl.js\");\r\n        this.load.glsl(\"stars\", \"assets/starfields.glsl.js\");\r\n    };\r\n    Demo.prototype.create_Game1 = function () {\r\n        console.log(\"Game1\");\r\n        // source code\r\n        this.add.text(0, this.gameTitlePosY, 'source code: Game1，phaser3 - logo.png, plasma - bundle.glsl.js, shader(RGB Shift Field, tweens.add');\r\n        this.add.shader(\"RGB Shift Field\", 0, 0, 800, 600).setOrigin(0);\r\n        this.add.shader(\"Plasma\", 0, 412, 800, 172).setOrigin(0);\r\n        this.add.image(400, 300, \"libs\");\r\n        var logo = this.add.image(400, 70, \"logo\");\r\n        this.tweens.add({\r\n            targets: logo,\r\n            y: 350,\r\n            duration: 1500,\r\n            ease: \"Sine.inOut\",\r\n            yoyo: true,\r\n            repeat: -1,\r\n        });\r\n    };\r\n    Demo.prototype.showSource1 = function () {\r\n        // console.log(\"querySelector(.SourceCodeFrame\");\r\n        // const el = document.querySelector(\".SourceCodeFrame\");\r\n        // el.innerHTML =\r\n        //     \"<pre>\" +\r\n        //     \"phaser3-logo.png\" +\r\n        //     \"<br>\" +\r\n        //     \"plasma-bundle.glsl.js\" +\r\n        //     \"<br>\" +\r\n        //     \"shader(RGB Shift Field\" +\r\n        //     \"<br>\" +\r\n        //     \"tweens.add\" +\r\n        //     \"</pre>\";\r\n    };\r\n    //#endregion game1\r\n    //#region game2\r\n    Demo.prototype.preload_Game2 = function () {\r\n        this.load.image(\"logo\", \"assets/phaser3-logo.png\");\r\n    };\r\n    Demo.prototype.create_Game2 = function () {\r\n        console.log(\"Game2\");\r\n        // source code\r\n        this.add.text(0, this.gameTitlePosY, 'source code: Game2, phaser3-logo.png, tweens.add');\r\n        var logo = this.add.image(400, 70, \"logo\");\r\n        this.tweens.add({\r\n            targets: logo,\r\n            y: 350,\r\n            duration: 1500,\r\n            ease: \"Sine.inOut\",\r\n            yoyo: true,\r\n            repeat: -1,\r\n        });\r\n    };\r\n    Demo.prototype.showSource2 = function () {\r\n        // console.log(\"querySelector(.SourceCodeFrame\");\r\n        // const el = document.querySelector(\".SourceCodeFrame\");\r\n        // el.innerHTML =\r\n        //     \"<pre>\" + +\"phaser3-logo.png\" + \"<br>\" + \"tweens.add\" + \"<br>\" + \"</pre>\";\r\n    };\r\n    return Demo;\r\n}(Phaser.Scene));\r\nexport default Demo;\r\nvar config = {\r\n    type: Phaser.AUTO,\r\n    backgroundColor: \"#125555\",\r\n    width: 800,\r\n    height: 600,\r\n    scene: Demo,\r\n};\r\nvar game = new Phaser.Game(config);\r\n","references":["D:/PhaserProj/PhaserGame1/node_modules/phaser/types/phaser.d.ts","D:/PhaserProj/PhaserGame1/dist/global.js"]}
